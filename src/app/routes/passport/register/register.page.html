
<ion-content >
  <div class="background">
    <form (ngSubmit)="onRegister(registerForm)" #registerForm="ngForm" novalidate>
      <ion-grid>
        <ion-row>
          <ion-button color="light" expand="block" fill="clear"  [routerLink]="['/login']">
            <ion-icon slot="start" name="chevron-back-outline"></ion-icon>
            返回
          </ion-button>
        </ion-row>
        <ion-row class="row" style="display: block;text-align: center;margin-top:30px;">
          <ion-label style="font-size: 30px;">用户注册</ion-label>
        </ion-row>

        <ion-row style="margin-top:20px;"></ion-row>
        
        <!-- <ion-row class="row" >
          <ion-input name="username" type="text" class="input-user" placeholder="请输入用户名" required [(ngModel)]="register.username" #username="ngModel">
            <ion-icon name="mail-outline" class="input_icon"></ion-icon>
          </ion-input>
        </ion-row>
        <div class="signup_warn">
          <ion-text text-left color="danger" *ngIf="username.invalid && username.touched">
            <p class="warn" [hidden]="!username.errors?.required" padding-start>请输入用户名</p>
          </ion-text>
        </div> -->
        <ion-row class="row" >
          <ion-input name="phone" type="text" class="input-user" placeholder="请输入手机号" required
          pattern="^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,3,5-9]))\d{8}$"  [(ngModel)]="register.phone" #phone="ngModel">
            <ion-icon name="phone-portrait-sharp" class="input_icon"></ion-icon>
          </ion-input>
        </ion-row>
        <div class="signup_warn">
          <ion-text text-left color="danger" *ngIf="phone.invalid && phone.touched">
            <p class="warn" [hidden]="!phone.errors?.required" padding-start>请输入手机号</p>
            <p class="warn" [hidden]="!phone.errors?.pattern" padding-start>您输入的手机号格式不正确</p>
          </ion-text>
        </div>
        <ion-row class="row">
          <ion-input name="code" type="text" class="verify_text" placeholder="请输入验证码" required [(ngModel)]="register.code" #code="ngModel">
            <ion-icon name="mail-open-outline" class="input_icon"></ion-icon>
          </ion-input>
          <ion-button color="secondary" (click)="onSendSMS()" [disabled]="!verifyCode.disable || phone.invalid">
            {{verifyCode.verifyCodeTips}}</ion-button>
        </ion-row>
        <div class="signup_warn">
          <ion-text text-left color="danger" *ngIf="code.invalid && code.touched">
            <p class="warn" [hidden]="!code.errors?.required" padding-start>请输入验证码</p>
          </ion-text>
        </div>
        <!-- <ion-row class="row">
          <ion-input name='pwd1' type="password" class="input-user" placeholder="请输入密码" required
            pattern="^(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^[^\s\u4e00-\u9fa5]{6,16}$" [(ngModel)]="register.password1"
            #pwd1="ngModel">
            <ion-icon name="lock-closed-outline" class="input_icon"></ion-icon>
          </ion-input>
        </ion-row>
        <div class="signup_warn">
          <ion-text text-left color="danger" *ngIf="pwd1.invalid && pwd1.touched">
            <p class="warn" [hidden]="!pwd1.errors?.required" padding-start>请输入密码</p>
            <p class="warn" [hidden]="!pwd1.errors?.pattern" padding-start>6至16位，由数字、英文、符号三种字符类型构成，至少包含两种类型字符</p>
          </ion-text>
        </div>
        <ion-row class="row">
          <ion-input name="pwd2" type="password" class="input-user" placeholder="请确认密码" required [(ngModel)]="register.password2"
            #pwd2="ngModel">
            <ion-icon name="checkmark-done-circle-outline" class="input_icon"></ion-icon>
          </ion-input>
        </ion-row>
        <div class="signup_warn">
          <ion-text text-left color="danger" *ngIf="pwd2.invalid && pwd2.touched">
            <p class="warn" [hidden]="!pwd2.errors?.required" padding-start>请确认密码</p>
            <p class="warn" [hidden]="!pwd2.errors?.pattern" padding-start>6至16位，由数字、英文、符号三种字符类型构成，至少包含两种类型字符</p>
          </ion-text>
        </div> -->
        <!-- <ion-radio-group name="role" [(ngModel)]="register.roleId" mode="md">
          <ion-row class="row">
            <ion-col>
              <ion-label>身份</ion-label>
            </ion-col>
            <ion-col>
              <ion-radio color="success" value="2"></ion-radio>
              <ion-label style="margin-left: 15px;">教师</ion-label>
            </ion-col>
            <ion-col>
              <ion-radio color="tertiary" value="3"></ion-radio>
              <ion-label style="margin-left: 15px;">学生</ion-label>
            </ion-col>
          </ion-row>
        </ion-radio-group> -->
        <!-- <div class="signup_warn">
          <ion-text text-left color="danger" *ngIf="pwd2.invalid && pwd2.touched">
            <p class="warn" [hidden]="!pwd2.errors?.required" padding-start>请再次输入密码</p>
            <p class="warn" [hidden]="!pwd2.errors?.pattern" padding-start>6至16位，由数字、英文、符号三种字符类型构成，至少包含两种类型字符</p>
          </ion-text>
        </div>  -->
        <ion-row class="row" style="display: block;text-align: center;">
          <ion-button expand="full" color="secondary" type="submit" class="btn btn-login" [disabled]="registerForm.invalid"> 注册 </ion-button>
        </ion-row>
        <!-- <ion-button expand="full" color="secondary" type="submit" class="btn btn-login" [disabled]="registerForm.invalid"> 注册 </ion-button> -->
      </ion-grid>
    </form>
  </div>
</ion-content>